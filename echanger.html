<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ExCryp - Échanger</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{font-family:Arial;background:#f8f9fa;margin:0;padding-bottom:100px}
header{position:fixed;top:0;width:100%;background:#fff;padding:15px;
box-shadow:0 2px 6px rgba(0,0,0,.1);z-index:1000;text-align:center;font-weight:bold}
main{max-width:600px;margin:100px auto 40px;padding:0 20px}
.block{background:#fff;border-radius:15px;padding:25px;margin-bottom:25px;
box-shadow:0 6px 15px rgba(0,0,0,.05)}
select,input{width:100%;padding:12px;margin-top:10px;border-radius:8px;border:1px solid #ccc}
button{width:100%;padding:14px;background:#28a745;border:none;border-radius:12px;
font-size:1.1rem;font-weight:bold;color:#fff}
.price-box{text-align:center;font-weight:bold;margin-top:15px;background:#e9f7ef;
color:#28a745;padding:15px;border-radius:12px;font-size:1.2rem}
.error-message{color:red;font-weight:bold;margin-top:10px;display:none;text-align:center}
/* Bottom nav */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #fff;
    display: flex;
    justify-content: space-around;
    align-items: center;
    height: 65px;
    z-index: 1000;
    box-shadow: 0 -3px 10px rgba(0,0,0,0.1);
}
.bottom-nav a {
    color:#333;
    text-decoration:none;
    font-size:0.75rem;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    transition: transform 0.3s, color 0.3s;
}
.bottom-nav a i {
    font-size: 1.3rem;
    margin-bottom: 3px;
}
.bottom-nav a.active, .bottom-nav a:hover {
    color: #28a745;
    transform: translateY(-3px);
}

</style>
</head>

<body>

<header>
  <img src="logo_crypt.png" style="height:35px"> ExCryp - Échanger
</header>

<main>

<!-- JE DONNE -->
<div class="block">
<h5>Je donne</h5>

<select id="giveSelect">
<option value="FCFA">Mobile Money (FCFA)</option>
<option value="USDT">USDT</option>
</select>

<input id="giveAmount" type="number" placeholder="Montant">

<select id="giveNetwork" style="display:none">
<option>TRC20</option>
<option>ERC20</option>
<option>BEP20</option>
</select>

<!-- Mobile Money DON -->
<div id="mobileGive">
<select id="country">
<option value="+229">Bénin (+229)</option>
<option value="+226">Burkina Faso (+226)</option>
<option value="+225">Côte d’Ivoire (+225)</option>
</select>

<select id="operator">
<option>Orange Money</option>
<option>MTN MoMo</option>
<option>Wave</option>
<option>Moov Money</option>
<option>Celtiis</option>
</select>

<input id="mobileNumber" type="tel" placeholder="Numéro Mobile Money">
</div>

<div class="error-message" id="errorMessage"></div>
</div>

<!-- JE REÇOIS -->
<div class="block">
<h5>Je reçois</h5>

<div id="priceBox" class="price-box"></div>

<!-- Réception USDT -->
<div id="receiveCrypto" style="display:none">
<select id="receiveCryptoNetwork">
<option>TRC20</option>
<option>ERC20</option>
<option>BEP20</option>
</select>
<input id="receiveCryptoAddress" type="text" placeholder="Adresse du wallet USDT">
</div>

<!-- Réception Mobile Money -->
<div id="receiveMobile" style="display:none">
<input id="receiveName" type="text" placeholder="Nom du titulaire">
<select id="receiveCountry">
<option value="+229">Bénin (+229)</option>
<option value="+226">Burkina Faso (+226)</option>
<option value="+225">Côte d’Ivoire (+225)</option>
</select>
<select id="receiveOperator">
<option>Orange Money</option>
<option>MTN MoMo</option>
<option>Wave</option>
<option>Moov Money</option>
<option>Celtiis</option>
</select>
<input id="receiveNumber" type="tel" placeholder="Numéro Mobile Money">
</div>

</div>

<button id="continueBtn">Continuer</button>

</main>

<div class="bottom-nav">
<a href="index.html"><i class="fas fa-home"></i>Accueil</a>
<a href="echanger.html" class="active"><i class="fas fa-exchange-alt"></i>Échanger</a>
<a href="https://wa.me/2290154108665"><i class="fab fa-whatsapp"></i>Contact</a>
</div>

<script>
const rates={FCFA_USDT:607.88,USDT_FCFA:559.75};

function updateUI(){
 const give=giveSelect.value;
 const amount=Number(giveAmount.value);

 mobileGive.style.display=give==="FCFA"?"block":"none";
 giveNetwork.style.display=give==="USDT"?"block":"none";
 receiveCrypto.style.display=give==="FCFA"?"block":"none";
 receiveMobile.style.display=give==="USDT"?"block":"none";

 if(give==="FCFA" && amount>0)
  priceBox.textContent=`≈ ${(amount/rates.FCFA_USDT).toFixed(2)} USDT`;
 else if(give==="USDT" && amount>0)
  priceBox.textContent=`≈ ${(amount*rates.USDT_FCFA).toFixed(0)} FCFA`;
 else priceBox.textContent="";
}

continueBtn.onclick=()=>{
 const give=giveSelect.value;
 const amount=giveAmount.value;
 if(amount<=0){errorMessage.textContent="Montant invalide";errorMessage.style.display="block";return;}

 let msg="Je souhaite échanger :\n";

 if(give==="FCFA"){
  msg+=`- Je donne : ${amount} FCFA\n`;
  msg+=`- Pays : ${country.options[country.selectedIndex].text}\n`;
  msg+=`- Réseau Mobile : ${operator.value}\n`;
  msg+=`- Numéro : ${mobileNumber.value}\n`;
  msg+=`- Je reçois : USDT\n`;
  msg+=`- Réseau crypto : ${receiveCryptoNetwork.value}\n`;
  msg+=`- Adresse : ${receiveCryptoAddress.value}`;
 }else{
  msg+=`- Je donne : ${amount} USDT\n`;
  msg+=`- Réseau crypto : ${giveNetwork.value}\n`;
  msg+=`- Je reçois : Mobile Money\n`;
  msg+=`- Nom : ${receiveName.value}\n`;
  msg+=`- Pays : ${receiveCountry.options[receiveCountry.selectedIndex].text}\n`;
  msg+=`- Réseau : ${receiveOperator.value}\n`;
  msg+=`- Numéro : ${receiveNumber.value}`;
 }

 window.open("https://wa.me/2290154108665?text="+encodeURIComponent(msg));
};

["giveSelect","giveAmount"].forEach(id=>{
 document.getElementById(id).addEventListener("input",updateUI);
});

updateUI();
</script>

</body>
</html>
